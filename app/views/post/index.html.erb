<!--렌더링 해오는 것. 렌더링 할 파일의 이름은 '_'로 나타낸다.-->
<!--video_board에서 navbar 파일을 불러오려면 post/navbar로 넣어준다.-->
<%= render "navbar" %>
<div class="container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">제목</th>
          <th scope="col">작성자</th>
          <th scope="col">작성 시간</th>
        </tr>
      </thead>
      <tbody>
        <% @posts.each do |p| %>
            <tr>
              <th scope="row"><%= p.id %></th>
              <!--href에 /post/show로 하면 어떤 글을 읽어 올지 id를 알 수 없다.-->
              <!--URL에 id를 보내니까 routes를 설정해줘야 한다.-->
              <!--주소창으로 id값을 보내는 것 보다 form 태그를 통해서 전달하고 hidden으로 숨기는게 보안에 더 좋다.-->
                <td><a href="/post/show/<%= p.id %>"><%= p.title %></a></td>
                <!--each do를 한번 더 필요없이 p.user.username으로 하면된다. 빨간만 뜨면  rake db:drop db:create db:migrate하면된다.-->
              <td><%= p.user.username %></td>
              <td><%= p.created_at %></td>
            </tr>
        <% end %>
      </tbody>
    </table>
<%= paginate @posts %>
    <!--이 버튼은 데이터를 전송하는 게 아니니까 type을 그냥 button으로 두면 됨.-->
    <!--default가 get방식이니까 해당 html을 받아올 것-->
    <a href="/post/new">
        <button type="button" class="btn btn-dark">글쓰기</button>
    </a>
</div>